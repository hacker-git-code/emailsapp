<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vibe Coding</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/theme/dracula.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/theme/dracula.min.css">
    <!-- Add these new CodeMirror themes and addons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/theme/monokai.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/addon/hint/show-hint.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/addon/fold/foldgutter.css">
</head>
<body>
    <header class="vibe-header">
        <div class="logo">Vibe Coding</div>
        <div class="header-controls" style="display: flex; align-items: center; gap: 20;">
            <button id="copy-code-btn" title="Copy code to clipboard">📋</button>
            <button id="run-code-btn" title="Run code">▶</button>
            <button id="clear-code-btn" title="Clear code">🗑️</button>
            <button id="toggle-view-btn" class="toggle-view-btn" title="Switch to Preview">Preview</button>
            <button id="toggle-menu-btn" title="Open Menu">☰ Menu</button>
        </div>
    </header>
    <div class="app-container">
        <main class="editor-pane">
            <div id="editor-container" class="active">
                <label for="code-editor" class="visually-hidden">Code Editor</label>
                <textarea id="code-editor" title="Code Editor" placeholder="Write your code here..."></textarea>
            </div>
            <div id="preview-container">
                <iframe id="preview" title="Live code preview"></iframe>
            </div>
        </main>
        <aside class="chat-pane sidebar-open" id="chat-sidebar">
            <div id="chat-area">
                <button id="new-chat-btn" title="New Chat">＋</button>
                <div id="chat-messages"></div>
                <div class="chat-input-area">
                    <textarea id="chat-input" placeholder="Type your prompt here..." rows="2"></textarea>
                    <button id="send-button">➤</button>
                </div>
            </div>
        </aside>
    </div>

    <div id="menu-modal" class="menu-modal">
    <div class="menu-modal-content">
        <div class="menu-header">
            <h2>Menu</h2>
            <button id="close-menu-btn" title="Close Menu">×</button>
        </div>
        <div class="menu-items">
            <button class="menu-item" data-action="save">💾 Save Project</button>
            <button class="menu-item" data-action="load">📂 Load Project</button>
            <button class="menu-item" data-action="export">📤 Export Code</button>
            <button class="menu-item" data-action="settings">⚙️ Settings</button>
            <button class="menu-item" data-action="about">ℹ️ About</button>
        </div>
    </div>
</div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/mode/xml/xml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/mode/css/css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/mode/htmlmixed/htmlmixed.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <!-- Add these before your script.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/addon/fold/foldcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/addon/fold/foldgutter.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/addon/hint/show-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/addon/hint/javascript-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/addon/lint/lint.min.js"></script>
    <script>
        // Ensure menu is hidden by default
        document.getElementById('menu-modal').style.display = 'none';
    </script>
</body>
</html>